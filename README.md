# IAS 密碼櫃 - 互動式前端原型

## 📌 專案簡介

本專案為 Interlace Archive System（IAS）密室逃脫謎題中的核心裝置 —— 「密碼櫃（Cabinet）」的全功能互動式前端介面。玩家透過操作 12 層抽屜、拖曳翻轉 Disk、插入讀卡機等互動方式進行時間旅行解謎。

本專案已完成完整的 UI 原型與核心互動邏輯，包含逼真的 Disk 操作體驗、視覺動畫效果、以及模擬資料顯示系統。

---

## 🎯 已完成功能

### 🗂️ 抽屜系統
- ✅ 12 層抽屜結構，羅馬數字標示（I~XII），對應紅指針時間（0~11）
- ✅ Bootstrap accordion 手風琴效果
- ✅ **智能抽屜互動**：同時只能開啟一層抽屜，其他自動禁用
- ✅ 深色科技風格設計，符合 IAS 世界觀
- ✅ 第一層抽屜（I）🔓 解鎖、第二層抽屜（II）🔒 鎖定圖示
- ✅ 禁用狀態視覺回饋：透明度、顏色、游標變更

### � Disk 操作系統
- ✅ **實體 Disk 元件**：可視化的圓形 Disk，支援 A/B 雙面設計
- ✅ **拖曳功能**：完整的 HTML5 drag & drop API 整合
- ✅ **翻轉動畫**：點擊翻轉按鈕可切換 A/B 面，含旋轉動畫效果
- ✅ **雙面差異化**：A 面（💿 綠色邊框）、B 面（💽 橙色邊框）
- ✅ **狀態指示**：拖曳時透明度變化、旋轉效果

### 🔌 讀卡機系統
- ✅ **視覺讀卡機**：模擬真實光碟機外觀，含插槽與狀態燈
- ✅ **拖曳區域偵測**：當 Disk 拖曳至讀卡機上方時高亮顯示
- ✅ **插入狀態管理**：成功插入後讀卡機狀態改變，顯示 Disk 資訊
- ✅ **LED 狀態指示**：待機紅燈閃爍、插入後綠燈恆亮
- ✅ **退出按鈕**：插入後自動產生退出按鈕，可恢復原狀態

### 📊 資料顯示系統
- ✅ **雙面資料差異**：A/B 面顯示不同的模擬實驗資料
- ✅ **動態內容生成**：根據抽屜編號產生對應的紅指針數值
- ✅ **資料區塊設計**：專業的終端機風格資料顯示介面
- ✅ **狀態同步**：讀卡機與資料區塊狀態完全同步

---

## 🧱 技術棧

- **前端框架**：HTML5 + Bootstrap 5（Accordion 元件）
- **樣式系統**：獨立 CSS 檔案，深色科技風格主題
- **互動邏輯**：原生 JavaScript，事件委派架構
- **模板引擎**：EJS（動態生成 12 層抽屜）
- **後端服務**：Express.js + 靜態檔案服務
- **拖曳實現**：HTML5 Drag & Drop API

---

## 📐 視覺設計規範

### 色彩系統
- **主背景**：#0f1116（深空藍黑）
- **抽屜色系**：#1c1f26（未開啟）→ #2a2f38（開啟狀態）
- **高亮色**：#91d1ff（科技藍）
- **Disk A 面**：#4CAF50（綠色，代表正常資料）
- **Disk B 面**：#FF9800（橙色，代表隱藏/警告資料）

### 互動回饋
- **拖曳狀態**：透明度 0.7 + 旋轉 5 度
- **懸停效果**：讀卡機藍色光暈
- **禁用狀態**：透明度 0.4 + 灰色調
- **動畫效果**：旋轉翻轉 180 度（150ms）

---

## 🎮 互動操作指南

### 基本操作流程
1. **開啟抽屜**：點擊任一抽屜標題（羅馬數字），其他抽屜自動禁用
2. **翻轉 Disk**：點擊 Disk 右下角的翻轉按鈕（🔄）切換 A/B 面
3. **拖曳插入**：將 Disk 拖曳至讀卡機插槽，視覺高亮提示拖放區域
4. **讀取資料**：成功插入後自動顯示對應面的資料內容
5. **退出 Disk**：點擊讀卡機的退出按鈕（⏏️）移除 Disk
6. **關閉抽屜**：再次點擊同一抽屜標題關閉，解除其他抽屜禁用

### 進階互動規則
| 操作 | 描述 | 視覺回饋 |
|------|------|----------|
| 同時只能開啟一層抽屜 | JavaScript 自定義邏輯控制 | 其他抽屜變暗禁用 |
| Disk 正反面識別 | 自動偵測當前顯示面 | A 面綠框、B 面橙框 |
| 讀卡機狀態同步 | 插入/退出狀態完全同步 | LED 燈色彩、狀態文字 |
| 資料內容差異化 | A/B 面顯示不同實驗資料 | 終端機風格差異化內容 |

---

## 🔬 模擬資料系統

### A 面資料（正常檔案系統）
```
🔍 檔案系統 A
日期: 2045.03.15
實驗代號: IAS-001
狀態: 初始化完成
備註: 時間錨點已設定
紅指針: 位置 N（根據抽屜編號）
```

### B 面資料（隱藏警告系統）
```
⚠️ 隱藏分區 B
日期: 2045.03.16
警告: 時間異常檢測
錯誤代碼: TL_PARADOX_001
建議: 立即停止實驗
紅指針: 異常偏移 +X（隨機偏移值）
```
- CSS 獨立檔案（深色金屬質感）
- JavaScript 獨立檔案（自定義抽屜互動邏輯）
- EJS 模板語法（可輕鬆迴圈產出 12 層抽屜）
- Express.js 靜態檔案服務

---

## 📐 視覺設計原則

- 主色系：#0f1116（背景），#1c1f26 / #2a2f38（抽屜），#91d1ff（高亮）
- 邊角圓潤、低調陰影、金屬質感線條
- 顯示技術感與封閉性，符合實驗艙氛圍
- 羅馬數字標示抽屜編號，簡潔現代
- 圖示設計：
  - 抽屜 I：🔓 解鎖圖示（綠色系）
  - 抽屜 II：� 鎖定圖示（紅色系）
- 禁用狀態：透明度降低、游標變更、顏色變暗

---

## 🧩 抽屜互動規則（UI 行為）

| 規則 | 描述 |
|------|------|
| 一次只能開啟一層抽屜 | 自定義 JavaScript 邏輯控制 |
| 抽屜 I 永遠可開啟 | 顯示解鎖圖示 🔓，無額外限制 |
| 抽屜 II 有鎖定圖示 | 顯示鎖定圖示 🔒，暗示需要條件 |
| 禁用其他抽屜 | 開啟抽屜時，其他抽屜視覺上變暗且無法點擊 |
| 隱藏預設箭頭 | 使用 CSS 隱藏 Bootstrap 預設的展開/收合箭頭 |
| 抽屜內容可自訂 | 提供 `.disk-slot` 與自由顯示區 |

> ⚠️ 註：本階段未實作紅藍指針邏輯與時間限制，僅為靜態 UI 原型。

---

## 🔜 後續擴充方向建議

- 插入 disk → 觸發紅指針變更、資料顯示
- 控制紅藍指針數值與規則
- 根據紅指針鎖住或解鎖特定抽屜
- 顯示解鎖狀態或時間線圖形化提示
- 限制抽屜關閉後不可再打開

---

## 📁 檔案結構
```
├── index.js          # Express 伺服器與路由
├── package.json       # 專案配置與依賴
├── public/
│   ├── styles.css     # 自定義 CSS 樣式
│   └── cabinet.js     # 抽屜互動邏輯 JavaScript
├── views/
│   └── cabinet.ejs    # 主要 UI 模板
└── README.md          # 專案說明文件
```

